<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import java.util.*?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="general.InterfaceJoueurController"
            prefHeight="600.0" prefWidth="900.0">

    <!-- SIDEBAR (Gauche) -->
    <left>
        <VBox spacing="15.0" style="-fx-background-color: #2c3e50; -fx-padding: 20;" prefWidth="200.0" BorderPane.alignment="CENTER">
            <Label text="DASHBOARD" textFill="WHITE">
                <font>
                    <Font name="System Bold" size="24.0"/>
                </font>
                <VBox.margin>
                    <Insets bottom="30.0"/>
                </VBox.margin>
            </Label>

            <Button fx:id="btnInfos" text="Mes Infos" onAction="#afficherInfos" maxWidth="Infinity" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-size: 14px; -fx-cursor: hand;"/>
            <Button fx:id="btnScores" text="Mes Scores" onAction="#afficherScores" maxWidth="Infinity" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-size: 14px; -fx-cursor: hand;"/>
            <Button fx:id="btnClassement" text="Classement" onAction="#afficherClassement" maxWidth="Infinity" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-size: 14px; -fx-cursor: hand;"/>
            
            <Region VBox.vgrow="ALWAYS" /> <!-- Espace flexible pour pousser le bouton déconnexion en bas -->
            
            <Button fx:id="btnLogout" text="Déconnexion" onAction="#deconnexion" maxWidth="Infinity" style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;"/>
        </VBox>
    </left>

    <!-- CONTENU CENTRAL -->
    <center>
        <StackPane fx:id="contentArea" style="-fx-padding: 30; -fx-background-color: #ecf0f1;">
            
            <!-- VUE 1: INFOS JOUEUR -->
            <VBox fx:id="paneInfos" spacing="20.0" visible="true">
                <Label text="Mon Profil" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                <GridPane hgap="20" vgap="15">
                    <Label text="Pseudo :" GridPane.rowIndex="0" GridPane.columnIndex="0" style="-fx-font-weight: bold;"/>
                    <Label fx:id="lblPseudo" text="..." GridPane.rowIndex="0" GridPane.columnIndex="1"/>
                    
                    <Label text="Email :" GridPane.rowIndex="1" GridPane.columnIndex="0" style="-fx-font-weight: bold;"/>
                    <Label fx:id="lblEmail" text="..." GridPane.rowIndex="1" GridPane.columnIndex="1"/>
                </GridPane>
            </VBox>

            <!-- VUE 2: SCORES PERSONNELS -->
            <VBox fx:id="paneScores" spacing="20.0" visible="false">
                <Label text="Mes Performances" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                <TableView fx:id="tableMesScores" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colNiveauPerso" text="Niveau" prefWidth="150"/>
                        <TableColumn fx:id="colScoreMax" text="Meilleur Score" prefWidth="150"/>
                        <TableColumn fx:id="colDernierScore" text="Dernier Score" prefWidth="150"/>
                    </columns>
                </TableView>
            </VBox>

            <!-- VUE 3: CLASSEMENT GENERAL -->
            <VBox fx:id="paneClassement" spacing="20.0" visible="false">
                <Label text="Classement Global" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Filtrer par niveau :"/>
                    <ComboBox fx:id="comboNiveauFilter" promptText="Choisir un niveau"/>
                </HBox>
                <TableView fx:id="tableClassement" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colRang" text="#" prefWidth="50"/>
                        <TableColumn fx:id="colPseudoClassement" text="Joueur" prefWidth="200"/>
                        <TableColumn fx:id="colScoreClassement" text="Score" prefWidth="150"/>
                    </columns>
                </TableView>
            </VBox>

        </StackPane>
    </center>

</BorderPane>
